<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RawStor Benchmark Dashboard</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üìä RawStor Performance Dashboard</h1>
            <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ FIO —Ç–µ—Å—Ç–æ–≤</p>
        </header>

        <div class="charts-container">
            <!-- IOPS Chart -->
            <div class="chart" id="iops-chart">
                <h2>üöÄ IOPS Performance</h2>
                <div class="chart-content"></div>
                
                <!-- –§–∏–ª—å—Ç—Ä—ã –¥–ª—è IOPS -->
                <div class="chart-filters">
                    <div class="filter-group">
                        <h3>üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ IOPS:</h3>
                        <div id="iops-config-filters"></div>
                    </div>
                    <div class="filter-group">
                        <h3>üåø –í–µ—Ç–∫–∏ IOPS:</h3>
                        <div id="iops-branch-filters"></div>
                    </div>
                    <div class="filter-group">
                        <h3>üìä –ú–µ—Ç—Ä–∏–∫–∏ IOPS:</h3>
                        <div id="iops-metric-filters"></div>
                    </div>
                </div>
            </div>
            
            <!-- Latency Chart -->
            <div class="chart" id="latency-chart">
                <h2>‚è±Ô∏è Latency Performance</h2>
                <div class="chart-content"></div>
                
                <!-- –§–∏–ª—å—Ç—Ä—ã –¥–ª—è Latency -->
                <div class="chart-filters">
                    <div class="filter-group">
                        <h3>üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Latency:</h3>
                        <div id="latency-config-filters"></div>
                    </div>
                    <div class="filter-group">
                        <h3>üåø –í–µ—Ç–∫–∏ Latency:</h3>
                        <div id="latency-branch-filters"></div>
                    </div>
                    <div class="filter-group">
                        <h3>üìä –ú–µ—Ç—Ä–∏–∫–∏ Latency:</h3>
                        <div id="latency-metric-filters"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="legend" id="legend"></div>

        <footer>
            <p>–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ | <span id="last-update"></span></p>
            <p>–ó–∞–≥—Ä—É–∂–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤: <span id="data-info">0</span></p>
        </footer>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script src="data-loader.js"></script>
    <script src="charts.js"></script>
    <script src="app.js"></script>
    <script>
    // Fix –¥–ª—è CORS –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
    if (window.location.hostname === 'localhost') {
        const originalFetch = window.fetch;
        window.fetch = function(url, options) {
            if (url.includes('github.com')) {
                url = url.replace('github.com', 'github.com');
                options = options || {};
                options.mode = 'cors';
                options.credentials = 'omit';
            }
            return originalFetch.call(this, url, options);
        };
    }
    </script>
</body>
</html>